<p *ngIf="error" class="error">{{ error }}</p>

<div *ngIf="product$ | async as product">

  <div class="head">
    <h2>{{ product.title }}</h2>
    <a routerLink="/products">← Retour</a>
  </div>

  <form [formGroup]="form" (ngSubmit)="save(product)">
    <label>Titre</label>
    <input formControlName="title" />

    <label>Description</label>
    <textarea formControlName="description"></textarea>

    <label>Prix</label>
    <input type="number" formControlName="price" />

    <label>Marque</label>
    <input formControlName="brand" />

    <label>Catégorie</label>
    <input formControlName="category" />

    <label>Thumbnail</label>
    <input formControlName="thumbnail" />

    <div class="actions">
      <button type="submit" [disabled]="form.invalid || saving">
        {{ saving ? 'Enregistrement...' : 'Modifier' }}
      </button>

      <button
        type="button"
        class="danger"
        (click)="remove(product)"
      >
        Supprimer
      </button>
    </div>
  </form>

</div>
